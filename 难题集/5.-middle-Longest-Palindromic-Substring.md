# 5-Middle: Longest Palindromic Substring

## 考点

* 看着是考字符串，但是实际考的是是动态规划
* 扩展中心法也可以做这个题
* Manacher's Algorithm也可以做

__这个题除了暴力解法，其他解法都想不到...，所以这个题的所有解法都要好好学习。__

## 题解

```cpp
class Solution {
public:
    string longestPalindrome(string s) {
        if(s.size()==0) return std::string("");
       //d[i][j] = d[i-1][j-1] + 1
       std::array<std::array<int,1005>,1005> d{0};
        std::string s_rev =s;
        std::string ans = "";
        int cur_max_len = -1;
        int end = -1;
        std::reverse(std::begin(s_rev),std::end(s_rev));
        // std::cout<<s_rev;

        for(int i=0;i<s.size();i++){
            for(int j=0;j<s_rev.size();j++){
                if(s[i]==s_rev[j]){
                    if(i==0 || j==0) d[i][j] = 1;
                    else d[i][j] = d[i - 1][j - 1] + 1;
                }
                if(d[i][j]>cur_max_len){
                int beforeRev = s.size() - 1 - j;
                if (beforeRev + d[i][j] - 1 == i) { 
                   cur_max_len = d[i][j];
                    end = i;
                }
            }
            }
        }
        ans = s.substr(end-cur_max_len+1,cur_max_len);

        return ans;
        
    }
};
```